{% extends "base.html" %}

{% block title %}Edit Item - Retail Inventory System{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto space-y-6">
  <!-- Page Header -->
  <div class="bg-white shadow rounded-lg p-6">
    <div class="flex items-center space-x-3">
      <a href="{{ url_for('items') }}" class="text-gray-600 hover:text-gray-900">
        <i class="bi bi-arrow-left text-xl"></i>
      </a>
      <div>
        <h1 class="text-2xl font-bold text-gray-900">
          <i class="bi bi-pencil-square"></i> Edit Item
        </h1>
        <p class="text-gray-600">Update item information</p>
      </div>
    </div>
  </div>

  <!-- Edit Item Form -->
  <div class="bg-white shadow rounded-lg p-6">
    <form method="POST" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Item Name -->
        <div>
          <label for="name" class="block text-sm font-semibold text-gray-700 mb-2">
            Item Name <span class="text-red-500">*</span>
          </label>
          <input
            type="text"
            id="name"
            name="name"
            value="{{ item.name }}"
            required
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
            placeholder="Enter item name"
          />
        </div>

        <!-- SKU / Product Code -->
        <div>
          <label for="sku" class="block text-sm font-semibold text-gray-700 mb-2">
            SKU / Product Code
          </label>
          <input
            type="text"
            id="sku"
            name="sku"
            value="{{ item.sku or '' }}"
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent font-mono"
            placeholder="Enter SKU"
          />
          <p class="text-xs text-gray-500 mt-1">Must be unique across all items</p>
        </div>
      </div>

      <!-- Description -->
      <div>
        <label for="description" class="block text-sm font-semibold text-gray-700 mb-2">
          Description
        </label>
        <textarea
          id="description"
          name="description"
          rows="3"
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
          placeholder="Enter item description"
        >{{ item.description or '' }}</textarea>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Category -->
        <div>
          <label for="category" class="block text-sm font-semibold text-gray-700 mb-2">
            Category <span class="text-red-500">*</span>
          </label>
          <select
            id="category"
            name="category"
            required
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
          >
            <option value="">Select category</option>
            <option value="Electronics" {{ 'selected' if item.category == 'Electronics' }}>Electronics</option>
            <option value="Clothing" {{ 'selected' if item.category == 'Clothing' }}>Clothing</option>
            <option value="Home & Garden" {{ 'selected' if item.category == 'Home & Garden' }}>Home & Garden</option>
            <option value="Sports" {{ 'selected' if item.category == 'Sports' }}>Sports</option>
            <option value="Books" {{ 'selected' if item.category == 'Books' }}>Books</option>
            <option value="Food & Beverages" {{ 'selected' if item.category == 'Food & Beverages' }}>Food & Beverages</option>
            <option value="Other" {{ 'selected' if item.category == 'Other' }}>Other</option>
          </select>
        </div>

        <!-- Unit -->
        <div>
          <label for="unit" class="block text-sm font-semibold text-gray-700 mb-2">
            Unit <span class="text-red-500">*</span>
          </label>
          <select
            id="unit"
            name="unit"
            required
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
          >
            <option value="">Select unit</option>
            <option value="pieces" {{ 'selected' if item.unit == 'pieces' }}>Pieces</option>
            <option value="kg" {{ 'selected' if item.unit == 'kg' }}>Kilograms</option>
            <option value="liters" {{ 'selected' if item.unit == 'liters' }}>Liters</option>
            <option value="boxes" {{ 'selected' if item.unit == 'boxes' }}>Boxes</option>
            <option value="sets" {{ 'selected' if item.unit == 'sets' }}>Sets</option>
            <option value="pairs" {{ 'selected' if item.unit == 'pairs' }}>Pairs</option>
          </select>
        </div>

        <!-- Minimum Stock Level -->
        <div>
          <label for="min_stock_level" class="block text-sm font-semibold text-gray-700 mb-2">
            Min Stock Level <span class="text-red-500">*</span>
          </label>
          <input
            type="number"
            id="min_stock_level"
            name="min_stock_level"
            value="{{ item.min_stock_level }}"
            min="0"
            required
            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"
            placeholder="0"
          />
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="flex justify-end space-x-3 pt-6 border-t border-gray-200">
        <a
          href="{{ url_for('items') }}"
          class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors duration-200"
        >
          Cancel
        </a>
        <button
          type="submit"
          class="px-6 py-2 text-white rounded-md transition-colors duration-200"
          style="background-color: #E2373F;"
          onmouseover="this.style.backgroundColor='#C21E25'"
          onmouseout="this.style.backgroundColor='#E2373F'"
        >
          <i class="bi bi-check-circle"></i> Update Item
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}